from himlarcli . client import Client import requests import json from himlarcli import utils class Slack ( Client ) :      def __init__ ( self , config_path , debug = False , log = None ) :          super ( Slack , self ) . __init__ ( config_path , debug , log ) self . logger . debug ( <str> % config_path ) self . webhook_url = self . get_config ( <str> , <str> ) self . slack_user = self . get_config ( <str> , <str> ) self . slack_channel = self . get_config ( <str> , <str> )  def publish_slack ( self , msg ) :          url = self . webhook_url payload = { <str> : self . slack_channel , <str> : self . slack_user , <str> : msg } json_payload = json . dumps ( payload ) log_msg = <str> % ( self . slack_channel , self . slack_user , msg ) if not self . dry_run :              requests . post ( url , data = json_payload )  else :              log_msg = <str> + log_msg  self . logger . debug ( <str> , log_msg )  def get_client ( self ) :          return self . client    