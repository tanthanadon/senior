from PyQt5 import QtCore , QtWidgets from equipment . solids import Grinder from UI import UI_corriente from equipment import parents from lib import unidades from tools import costIndex from UI . widgets import Entrada_con_unidades BondIndex = { <str> : 17.93 , <str> : 15.76 , <str> : 8.87 , <str> : 45.03 , <str> : 16.8 , <str> : 17.3 , <str> : 12.97 , <str> : 7.77 , <str> : 11.53 , <str> : 7.1 , <str> : 11.88 , <str> : 10.81 , <str> : 11.88 , <str> : 13.0 , <str> : 14.39 , <str> : 20.7 , <str> : 14.87 , <str> : 15.4 , <str> : 16.46 , <str> : 73.8 , <str> : 20.13 , <str> : 26.17 , <str> : 12.42 , <str> : 12.37 , <str> : 11.61 , <str> : 20.41 , <str> : 11.37 , <str> : 18.45 , <str> : 11.31 , <str> : 38.6 , <str> : 11.35 , <str> : 8.23 , <str> : 22.13 , <str> : 1.43 , <str> : 13.11 , <str> : 15.44 , <str> : 134.5 , <str> : 12.68 , <str> : 13.03 , <str> : 10.57 , <str> : 9.45 , <str> : 11.4 , <str> : 21.1 , <str> : 3.08 , <str> : 14.9 , <str> : 10.16 , <str> : 10.13 , <str> : 10.18 , <str> : 13.53 , <str> : 8.16 , <str> : 9.6 , <str> : 11.67 , <str> : 13.13 , <str> : 18.1 , <str> : 15.53 , <str> : 8.9 , <str> : 12.46 , <str> : 9.57 , <str> : 18.87 , <str> : 25.17 , <str> : 12.83 , <str> : 26.16 , <str> : 16.4 , <str> : 8.45 , <str> : 6.24 , <str> : 58.18 , <str> : 12.16 , <str> : 14.83 , <str> : 11.93 , <str> : 12.12 , <str> : 13.7 , <str> : 9.76 , <str> : 13.49 , <str> : 8.77 , <str> : 10.19 , <str> : 10.21 , <str> : 12.18 , <str> : 11.33 , <str> : 13.83 , <str> : 8.88 , <str> : 19.4 , <str> : 12.77 } class UI_equipment ( parents . UI_equip ) :      def __init__ ( self , entrada = None , parent = None ) :          super ( UI_equipment , self ) . __init__ ( Grinder , entrada = False , salida = False , parent = parent ) self . entrada = entrada self . Entrada = UI_corriente . Ui_corriente ( entrada ) self . Entrada . Changed . connect ( self . cambiar_entrada ) self . tabWidget . insertTab ( 0 , self . Entrada , QtWidgets . QApplication . translate ( <str> , <str> , None ) ) gridLayout_Calculo = QtWidgets . QGridLayout ( self . tabCalculo ) gridLayout_Calculo . addWidget ( QtWidgets . QLabel ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) , 1 , 0 , 1 , 1 ) self . Material = QtWidgets . QComboBox ( ) self . Material . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) for key in sorted ( BondIndex . keys ( ) ) :              self . Material . addItem ( key )  self . Material . currentIndexChanged [ str ] . connect ( self . cambiarBondWordIndex ) gridLayout_Calculo . addWidget ( self . Material , 1 , 1 , 1 , 1 ) self . BondWorkIndex = Entrada_con_unidades ( float ) gridLayout_Calculo . addWidget ( self . BondWorkIndex , 1 , 2 , 1 , 1 ) gridLayout_Calculo . addItem ( QtWidgets . QSpacerItem ( 10 , 10 , QtWidgets . QSizePolicy . Expanding , QtWidgets . QSizePolicy . Expanding ) , 10 , 0 , 1 , 5 ) gridLayout_Costos = QtWidgets . QGridLayout ( self . tabCostos ) gridLayout_Costos . addWidget ( QtWidgets . QLabel ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) , 1 , 1 , 1 , 1 ) self . tipo = QtWidgets . QComboBox ( ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . addItem ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tipo . currentIndexChanged . connect ( self . calcularCostos ) gridLayout_Costos . addWidget ( self . tipo , 1 , 2 , 1 , 1 ) gridLayout_Costos . addItem ( QtWidgets . QSpacerItem ( 10 , 10 , QtWidgets . QSizePolicy . Fixed , QtWidgets . QSizePolicy . Fixed ) , 2 , 1 , 1 , 2 ) self . Costos = costIndex . CostData ( 1.3 , 2 ) self . Costos . valueChanged . connect ( self . calcularCostos ) gridLayout_Costos . addWidget ( self . Costos , 4 , 1 , 2 , 5 ) gridLayout_Costos . addItem ( QtWidgets . QSpacerItem ( 20 , 20 , QtWidgets . QSizePolicy . Expanding , QtWidgets . QSizePolicy . Expanding ) , 6 , 1 , 1 , 6 ) gridLayout_Costos . addItem ( QtWidgets . QSpacerItem ( 20 , 20 , QtWidgets . QSizePolicy . Expanding , QtWidgets . QSizePolicy . Expanding ) , 10 , 1 , 1 , 6 ) self . groupBox_Costos = QtWidgets . QGroupBox ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) gridLayout_Costos . addWidget ( self . groupBox_Costos , 7 , 1 , 1 , 6 ) gridLayout_5 = QtWidgets . QGridLayout ( self . groupBox_Costos ) gridLayout_5 . addWidget ( QtWidgets . QLabel ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) , 0 , 1 , 1 , 1 ) self . C_adq = Entrada_con_unidades ( unidades . Currency , retornar = False , readOnly = True ) gridLayout_5 . addWidget ( self . C_adq , 0 , 2 , 1 , 1 ) gridLayout_5 . addWidget ( QtWidgets . QLabel ( QtWidgets . QApplication . translate ( <str> , <str> , None ) ) , 1 , 1 , 1 , 1 ) self . C_inst = Entrada_con_unidades ( unidades . Currency , retornar = False , readOnly = True ) gridLayout_5 . addWidget ( self . C_inst , 1 , 2 , 1 , 1 ) self . Salida = UI_corriente . Ui_corriente ( readOnly = True ) self . tabWidget . insertTab ( 3 , self . Salida , QtWidgets . QApplication . translate ( <str> , <str> , None ) ) self . tabWidget . setCurrentIndex ( 0 )  def cambiarBondWordIndex ( self , txt ) :          try :              value = BondIndex [ str ( txt ) ]  except KeyError :              self . BondWorkIndex . setReadOnly ( False ) self . BondWorkIndex . clear ( )  else :              self . BondWorkIndex . setValue ( value ) self . BondWorkIndex . setReadOnly ( True )   def cambiar_entrada ( self , corriente ) :          selfentrada = corriente self . calculo ( )  def calculo ( self ) :          if self . todos_datos ( ) :              self . rellenoSalida ( )   def rellenoSalida ( self ) :          pass  def todos_datos ( self ) :          pass  def calcularCostos ( self , factor = None , indiceBase = None , indiceActual = None ) :          if self . todos_datos ( ) :              if not factor : factor = self . Costos . factor if not indiceBase : indiceBase = self . Costos . Base if not indiceActual : indiceActual = self . Costos . Actual if self . tipo . currentIndex ( ) == 0 :                  self . FireHeater . Coste ( factor , indiceBase , indiceActual , 0 , self . tipobox . currentIndex ( ) , self . material . currentIndex ( ) )  else :                  self . FireHeater . Coste ( factor , indiceBase , indiceActual , 1 , self . tipocilindrico . currentIndex ( ) , self . material . currentIndex ( ) )  self . C_adq . setValue ( self . FireHeater . C_adq . config ( ) ) self . C_inst . setValue ( self . FireHeater . C_inst . config ( ) )    if __name__ == <str> :      import sys from lib . corriente import Corriente , Mezcla , Solid app = QtWidgets . QApplication ( sys . argv ) agua = Corriente ( 300 , 1 , 3600 , Mezcla ( [ 62 ] , [ 1 ] ) ) dialogo = UI_equipment ( agua ) dialogo . show ( ) sys . exit ( app . exec_ ( ) )   