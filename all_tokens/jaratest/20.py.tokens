import sys from jaratoolbox import behavioranalysis reload ( behavioranalysis ) import numpy as np from jaratoolbox import loadbehavior from jaratoolbox import extraplots from matplotlib import pyplot as plt fontsize = 18 colors = [ <str> , <str> , <str> , <str> , <str> ] subjects = [ <str> ] sessions = [ <str> ] if len ( sys . argv ) > 1 :      sessions = sys . argv [ 1 : ]  inds = 0 plt . figure ( ) for indSubject , subject in enumerate ( subjects ) : 	 allPlines = [ ] bdata = behavioranalysis . load_many_sessions ( subjects , sessions , <str> ) valid = bdata [ <str> ] choice = bdata [ <str> ] print sum ( valid ) choiceRight = choice == bdata . labels [ <str> ] [ <str> ] targetFreq = bdata [ <str> ] noLaserTrials = valid & ( bdata [ <str> ] == 0 ) ( possibleValues , fractionHitsEachValue , ciHitsEachValue , nTrialsEachValue , nHitsEachValue ) = behavioranalysis . calculate_psychometric ( choiceRight , targetFreq , noLaserTrials ) ( pline , pcaps , pbars , pdots ) = extraplots . plot_psychometric ( 1e-3 * possibleValues , fractionHitsEachValue , ciHitsEachValue , xTickPeriod = 1 ) allPlines . append ( pline ) ax = pline . axes extraplots . boxoff ( ax ) extraplots . set_ticks_fontsize ( ax , fontsize ) plt . xlabel ( <str> , fontsize = fontsize ) plt . ylabel ( <str> , fontsize = fontsize ) extraplots . set_ticks_fontsize ( plt . gca ( ) , fontsize ) plt . setp ( pline , color = <str> ) plt . setp ( pcaps , color = <str> ) plt . setp ( pbars , color = <str> ) plt . setp ( pdots , markerfacecolor = <str> ) legend = plt . legend ( allPlines , [ <str> , <str> ] ) plt . hold ( True ) laserTrials = valid & ( bdata [ <str> ] == 1 ) ( possibleValues , fractionHitsEachValue , ciHitsEachValue , nTrialsEachValue , nHitsEachValue ) = behavioranalysis . calculate_psychometric ( choiceRight , targetFreq , laserTrials ) ( pline , pcaps , pbars , pdots ) = extraplots . plot_psychometric ( 1e-3 * possibleValues , fractionHitsEachValue , ciHitsEachValue , xTickPeriod = 1 ) allPlines . append ( pline ) ax = pline . axes extraplots . boxoff ( ax ) extraplots . set_ticks_fontsize ( ax , fontsize ) plt . title ( subject + <str> + sessions [ 0 ] + <str> + sessions [ - 1 ] , fontsize = fontsize ) plt . xlabel ( <str> , fontsize = fontsize ) plt . ylabel ( <str> , fontsize = fontsize ) extraplots . set_ticks_fontsize ( plt . gca ( ) , fontsize ) plt . setp ( pline , color = <str> ) plt . setp ( pcaps , color = <str> ) plt . setp ( pbars , color = <str> ) plt . setp ( pdots , markerfacecolor = <str> ) legend2 = plt . legend ( allPlines , [ <str> , <str> ] , bbox_to_anchor = ( 0.35 , 0.875 ) , bbox_transform = plt . gcf ( ) . transFigure ) ax . xaxis . set_ticks_position ( <str> )  plt . show ( )  