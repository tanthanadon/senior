from jaratoolbox import loadbehavior from jaratoolbox import behavioranalysis from jaratoolbox import extraplots import numpy as np import matplotlib . pyplot as plt from statsmodels . stats . proportion import proportion_confint from jaratoolbox import settings import sys bdata = behavioranalysis . load_many_sessions ( subject , sessions , paradigm ) Color = [ 0 , 0.50 , 1 ] correct = bdata [ <str> ] == bdata . labels [ <str> ] [ <str> ] targetPercentage = bdata [ <str> ] choiceRight = bdata [ <str> ] == bdata . labels [ <str> ] [ <str> ] valid = bdata [ <str> ] . astype ( bool ) & ( bdata [ <str> ] != bdata . labels [ <str> ] [ <str> ] ) ( possibleValues , fractionHitsEachValue , ciHitsEachValue , nTrialsEachValue , nHitsEachValue ) = behavioranalysis . calculate_psychometric ( choiceRight , targetPercentage , valid ) ( pline , pcaps , pbars , pdots ) = extraplots . plot_psychometric ( 1e-3 * possibleValues , fractionHitsEachValue , ciHitsEachValue , xTickPeriod = 1 , xscale = <str> ) plt . setp ( [ pline , pcaps , pbars , pdots ] , color = Color ) plt . setp ( pdots , mfc = Color ) print ( <str> . format ( valid , fractionCorrect ) ) print bdata [ <str> ] fontsize = 12 plt . show ( ) sys . exit ( )  