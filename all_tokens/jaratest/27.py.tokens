import os , sys import argparse import pdb import numpy as np from numpy import inf from scipy import optimize from scipy import stats import pandas as pd import matplotlib . pyplot as plt import matplotlib . patches as patches import matplotlib . gridspec as gridspec from jaratoolbox import celldatabase from jaratoolbox import extraplots from jaratoolbox import spikesanalysis from jaratoolbox import spikesorting from jaratoolbox import behavioranalysis from jaratoolbox import loadbehavior from jaratoolbox import loadopenephys from jaratoolbox import ephyscore reload ( loadopenephys ) from jaratoolbox import settings parser = argparse . ArgumentParser ( description = <str> ) parser . add_argument ( <str> , type = int , default = None , help = <str> ) parser . add_argument ( <str> , action = <str> , help = <str> ) args = parser . parse_args ( ) dapa_list = [ <str> , <str> , <str> ] cell_list = [ [ 73 , 86 , 126 , 127 , 129 , 182 , 191 ] , [ 157 , 161 , 223 , 227 , 436 , 453 , 454 , 455 , 456 , 457 , 464 , 490 , 504 , 620 , 621 , 626 , 631 , 633 , 634 , 658 , 674 , 676 , 677 , 679 , 693 , 694 , 695 , 696 , 708 , 728 , 731 , 742 , 743 , 744 , 746 , 774 , 777 , 800 ] , [ 305 , 306 , 307 , 328 , 329 , 330 , 331 , 398 , 399 , 414 , 423 , 478 , 481 , 484 , 497 , 538 , 539 , 554 , 565 , 567 , 678 ] ] all_cell_len = [ len ( x ) for x in cell_list ] all_amplitude = np . empty ( ( sum ( all_cell_len ) , 4 ) ) all_mean = np . empty ( ( sum ( all_cell_len ) , 4 ) ) all_sigma = np . empty ( ( sum ( all_cell_len ) , 4 ) ) all_asymptote = np . empty ( ( sum ( all_cell_len ) , 4 ) ) count = 0 for dapaInd , dapa in enumerate ( dapa_list ) :      dbpath = <str> . format ( dapa ) db = pd . read_hdf ( dbpath , key = <str> ) finaldir = <str> . format ( dapa ) goodCells = db . query ( <str> ) goodCells = goodCells . reset_index ( drop = True ) for ind , indRow in enumerate ( cell_list [ dapaInd ] ) :          print ( count ) dbRow = goodCells . loc [ indRow ] cell = ephyscore . Cell ( dbRow ) laserTuningSessionInds = cell . get_session_inds ( <str> ) if len ( laserTuningSessionInds ) == 0 :              continue  all_amplitude [ count , : ] = ( dbRow [ <str> ] [ 0 ] [ 0 ] , dbRow [ <str> ] [ 1 ] [ 0 ] , dbRow [ <str> ] [ 2 ] [ 0 ] , dbRow [ <str> ] [ 3 ] [ 0 ] ) all_mean [ count , : ] = ( dbRow [ <str> ] [ 0 ] [ 1 ] , dbRow [ <str> ] [ 1 ] [ 1 ] , dbRow [ <str> ] [ 2 ] [ 1 ] , dbRow [ <str> ] [ 3 ] [ 1 ] ) all_sigma [ count , : ] = ( dbRow [ <str> ] [ 0 ] [ 2 ] , dbRow [ <str> ] [ 1 ] [ 2 ] , dbRow [ <str> ] [ 2 ] [ 2 ] , dbRow [ <str> ] [ 3 ] [ 2 ] ) all_asymptote [ count , : ] = ( dbRow [ <str> ] [ 0 ] [ 3 ] , dbRow [ <str> ] [ 1 ] [ 3 ] , dbRow [ <str> ] [ 2 ] [ 3 ] , dbRow [ <str> ] [ 3 ] [ 3 ] ) count += 1   amplitude_diffs = all_amplitude [ : , 3 ] - all_amplitude [ : , 1 ] plt . figure ( ) plt . hist ( amplitude_diffs , range = ( - 10 , 10 ) , bins = 40 ) plt . show ( ) sys . exit ( )  