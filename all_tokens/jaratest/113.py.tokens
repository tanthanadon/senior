import numpy as np import cv2 import matplotlib . pyplot as plt videoFilename = <str> thresholdIntensity = 20 rectLeftX = [ 271 , 306 ] ; rectLeftY = [ 65 , 87 ] rectRightX = [ 271 , 306 ] ; rectRightY = [ 65 , 87 ] cap = cv2 . VideoCapture ( videoFilename ) frameSize = ( 600 , 800 ) nFrames = int ( cap . get ( cv2 . cv . CV_CAP_PROP_FRAME_COUNT ) ) avgIntensity = np . empty ( nFrames ) for indf in range ( nFrames ) :      ret , frame = cap . read ( ) gray = cv2 . cvtColor ( frame , cv2 . COLOR_BGR2GRAY ) chunkLeft = gray [ rectLeftY [ 0 ] : rectLeftY [ 1 ] , rectLeftX [ 0 ] : rectLeftX [ 1 ] ] chunkRight = gray [ rectRightY [ 0 ] : rectRightY [ 1 ] , rectRightX [ 0 ] : rectRightX [ 1 ] ] avgIntensity [ indf ] = np . mean ( chunk )  cap . release ( ) plt . clf ( ) fig = plt . gcf ( ) plt . subplot ( 2 , 1 , 1 ) plt . imshow ( gray , vmin = 0 , vmax = 255 ) plt . subplot ( 2 , 1 , 2 ) plt . plot ( avgIntensity , <str> ) plt . show ( )  