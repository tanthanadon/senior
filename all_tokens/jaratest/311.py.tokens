from jaratoolbox import loadbehavior from jaratoolbox import settings from jaratoolbox import ephyscore import os import numpy as np from jaratoolbox import loadopenephys from jaratoolbox import spikesanalysis from jaratoolbox import extraplots import matplotlib . pyplot as plt import sys import importlib import re mouseName = str ( sys . argv [ 1 ] ) allcellsFileName = <str> + mouseName sys . path . append ( settings . ALLCELLS_PATH ) allcells = importlib . import_module ( allcellsFileName ) SAMPLING_RATE = 30000.0 soundTriggerChannel = 0 binWidth = 0.010 outputDir = <str> timeRange = [ - 0.2 , 0.8 ] middleFreq = 1 ephysRootDir = settings . EPHYS_PATH experimenter = <str> paradigm = <str> numOfCells = len ( allcells . cellDB ) minBlockSize = 40 behavSession = <str> badSessionList = [ ] print <str> for cellID in range ( 0 , numOfCells ) :      oneCell = allcells . cellDB [ cellID ] subject = oneCell . animalName finalOutputDir = outputDir + subject + <str>          figname = <str> . format ( oneCell . animalName , oneCell . behavSession , oneCell . tetrode , oneCell . cluster , <str> ) full_fig_path = os . path . join ( finalOutputDir , figname ) if not os . path . exists ( full_fig_path ) :              cellplotter . plot_rew_change_per_cell ( oneCell , trialLimit = [ ] , alignment = <str> ) plt . savefig ( full_fig_path , format = <str> )  figname = <str> . format ( oneCell . animalName , oneCell . behavSession , oneCell . tetrode , oneCell . cluster , <str> , <str> ) full_fig_path = os . path . join ( finalOutputDir , figname ) if not os . path . exists ( full_fig_path ) :              cellplotter . plot_rew_change_byblock_per_cell ( oneCell , trialLimit = [ ] , alignment = <str> , choiceSide = <str> ) plt . savefig ( full_fig_path , format = <str> )  figname = <str> . format ( oneCell . animalName , oneCell . behavSession , oneCell . tetrode , oneCell . cluster , <str> , <str> ) full_fig_path = os . path . join ( finalOutputDir , figname ) if not os . path . exists ( full_fig_path ) :              cellplotter . plot_rew_change_byblock_per_cell ( oneCell , trialLimit = [ ] , alignment = <str> , choiceSide = <str> ) plt . savefig ( full_fig_path , format = <str> )    print <str> for badSes in badSessionList :      print badSes   