from pylab import * from jaratoolbox import ephyscore from jaratoolbox import spikesorting import allcells_test055 as allcells cellID = allcells . cellDB . findcell ( <str> , <str> , 3 , 11 ) oneCell = allcells . cellDB [ cellID ] spkData = ephyscore . CellData ( oneCell ) waveforms = spkData . spikes . samples . astype ( float ) - 2 ** 15 samplingRate = spkData . spikes . samplingRate ( peakTimes , peakAmplitudes , avWaveform ) = spikesorting . estimate_spike_peaks ( waveforms , samplingRate ) timeVec = np . arange ( 0 , len ( avWaveform ) / samplingRate , 1 / samplingRate ) clf ( ) hold ( 1 ) plot ( timeVec , avWaveform , <str> ) axvline ( peakTimes [ 1 ] , ls = <str> , color = <str> ) axvline ( peakTimes [ 0 ] , ls = <str> , color = <str> ) axvline ( peakTimes [ 2 ] , ls = <str> , color = <str> ) hold ( 0 ) show ( )  