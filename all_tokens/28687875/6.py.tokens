def wrap ( element , input ) :    return <str> + element + <str> + input + <str> + element + <str>  def process ( tr , parameters , tableBuilder ) :    id = parameters . get ( <str> ) idtype = len ( id . split ( <str> ) ) if ( idtype == 3 ) :      entity = tr . getSampleForUpdate ( id )  else :      entity = tr . getExperimentForUpdate ( id )  user = parameters . get ( <str> ) comment = parameters . get ( <str> ) time = str ( parameters . get ( <str> ) ) xml = entity . getPropertyValue ( <str> ) all = <str> try :      for line in xml . split ( <str> ) :        if not <str> in line :          all += line    except :      all = <str>  note = <str> note += wrap ( <str> , comment ) + wrap ( <str> , time ) + wrap ( <str> , user ) note += <str> all += note all += <str> entity . setPropertyValue ( <str> , all )    