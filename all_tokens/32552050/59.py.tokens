from django . db import models from django . contrib . contenttypes . models import ContentType from django . contrib . contenttypes . fields import GenericForeignKey class Run ( models . Model ) :      participation = models . ForeignKey ( <str> ) start_time = models . DateTimeField ( ) end_time = models . DateTimeField ( ) browser = models . CharField ( max_length = 16 , null = True ) browser_version = models . CharField ( max_length = 8 , null = True ) used_trials = models . ManyToManyField ( ContentType , related_name = <str> ) content_type = models . ForeignKey ( ContentType , on_delete = models . CASCADE ) object_id = models . PositiveIntegerField ( ) global_setting_obj = GenericForeignKey ( ) def pre_process_data ( self , data_object , request ) :          return data_object  def get_trials ( self ) :          trials = [ ] for trial_ct in self . used_trials . all ( ) :              for trial in trial_ct . model_class ( ) . objects . filter ( run = self ) . order_by ( <str> ) :                  trials . append ( trial )   return trials    