from django . shortcuts import render from django . http import JsonResponse from django . utils . translation import ugettext as _ from . models import Payment from djPsych . exceptions import PayoutException def claim ( request , exp_label , code ) :      error = <str> try :          payment = Payment . objects . get ( pk = code ) try :              payment . pay ( request )  except PayoutException as e :              error = _ ( <str> ) + str ( e )   except Payment . DoesNotExist :          payment = None error = _ ( <str> )  if request . is_ajax ( ) :          if error != <str> :              return JsonResponse ( { <str> : error } )  else :              return JsonResponse ( { <str> : _ ( <str> ) + payment . receiver } )   else :          return render ( request , <str> , { <str> : error , <str> : payment } )  pass    