import os from jaratoolbox import behavioranalysis from jaratoolbox import settings reload ( settings ) import figparams import numpy as np from matplotlib import pyplot as plt from jaratoolbox import extraplots from muscimol_sessions import animals FIGNAME = <str> outputDir = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , FIGNAME ) scriptFullPath = os . path . realpath ( __file__ ) summaryFilename = <str> summaryFullPath = os . path . join ( outputDir , summaryFilename ) animalsToUse = [ <str> , <str> , <str> , <str> , <str> ] nAnimals = len ( animalsToUse ) nSessions = 4 nCond = 2 conditions = [ <str> , <str> ] subjects = [ ] dataDict = { } for indAnimal , animalName in enumerate ( animalsToUse ) :      animalSessionDict = animals [ animalName ] subjects . append ( animalName ) for indCond in [ 0 , 1 ] :          sessions = animalSessionDict [ conditions [ indCond ] ] rtAllThisSubject = np . array ( [ ] ) rtValidThisSubject = np . array ( [ ] ) rtValidMeanThisSubject = np . array ( [ ] ) for indSession , session in enumerate ( sessions ) :              bdata = behavioranalysis . load_many_sessions ( animalName , [ session ] ) validTrials = bdata [ <str> ] . astype ( bool ) & ( bdata [ <str> ] != bdata . labels [ <str> ] [ <str> ] ) rtAll = bdata [ <str> ] - bdata [ <str> ] rtValid = rtAll [ validTrials ] rtAllThisSubject = np . append ( rtAllThisSubject , rtAll ) rtValidThisSubject = np . append ( rtValidThisSubject , rtValid ) rtValidMean = np . mean ( rtValid ) rtValidMeanThisSubject = np . append ( rtValidMeanThisSubject , rtValidMean )  dataDict . update ( { <str> . format ( animalName , conditions [ indCond ] ) : rtAllThisSubject , <str> . format ( animalName , conditions [ indCond ] ) : rtValidThisSubject , <str> . format ( animalName , conditions [ indCond ] ) : rtValidMeanThisSubject } )   np . savez ( summaryFullPath , subjects = np . array ( subjects ) , conditions = np . array ( conditions ) , script = scriptFullPath , ** dataDict ) print <str> . format ( summaryFullPath )  