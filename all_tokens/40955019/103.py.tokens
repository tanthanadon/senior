import os import pandas as pd import numpy as np import scipy . stats from jaratoolbox import celldatabase from jaratoolbox import spikesanalysis from jaratoolbox import ephyscore from jaratoolbox import behavioranalysis from jaratoolbox import settings import figparams import studyparams dbFilename = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , <str> ) db = celldatabase . load_hdf ( dbFilename ) figName = <str> dataDir = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , figName ) bestCells = db . query ( studyparams . SINGLE_UNITS ) bestCells = bestCells . query ( studyparams . GOOD_CELLS ) PVCells = bestCells . query ( studyparams . PV_CELLS ) SOMCells = bestCells . query ( studyparams . SOM_CELLS ) ExCells = bestCells . query ( studyparams . EXC_CELLS ) PVsustainedSuppression = PVCells [ <str> ] SOMsustainedSuppression = SOMCells [ <str> ] ExsustainedSuppression = ExCells [ <str> ] PVsustainedSuppressionPVal = PVCells [ <str> ] SOMsustainedSuppressionPVal = SOMCells [ <str> ] ExsustainedSuppressionPVal = ExCells [ <str> ] fitPVsustainedSuppression = PVCells [ <str> ] fitSOMsustainedSuppression = SOMCells [ <str> ] fitExsustainedSuppression = ExCells [ <str> ] fitPVsustainedSuppressionNoZero = PVCells [ <str> ] fitSOMsustainedSuppressionNoZero = SOMCells [ <str> ] fitExsustainedSuppressionNoZero = ExCells [ <str> ] PVsustainedNoiseSuppression = PVCells [ <str> ] SOMsustainedNoiseSuppression = SOMCells [ <str> ] ExsustainedNoiseSuppression = ExCells [ <str> ] PVhighSpikeArray = PVCells [ <str> ] PVlowSpikeArray = PVCells [ <str> ] PVdiffSum = ( PVhighSpikeArray - PVlowSpikeArray ) / ( PVhighSpikeArray + PVlowSpikeArray ) PVprefBW = PVCells [ <str> ] SOMhighSpikeArray = SOMCells [ <str> ] SOMlowSpikeArray = SOMCells [ <str> ] SOMdiffSum = ( SOMhighSpikeArray - SOMlowSpikeArray ) / ( SOMhighSpikeArray + SOMlowSpikeArray ) SOMprefBW = SOMCells [ <str> ] ExhighSpikeArray = ExCells [ <str> ] ExlowSpikeArray = ExCells [ <str> ] ExdiffSum = ( ExhighSpikeArray - ExlowSpikeArray ) / ( ExhighSpikeArray + ExlowSpikeArray ) ExprefBW = ExCells [ <str> ] outputFile = <str> outputFullPath = os . path . join ( dataDir , outputFile ) np . savez ( outputFullPath , PVsustainedSuppression = PVsustainedSuppression , PVsustainedNoiseSuppression = PVsustainedNoiseSuppression , fitPVsustainedSuppression = fitPVsustainedSuppression , fitPVsustainedSuppressionNoZero = fitPVsustainedSuppressionNoZero , SOMsustainedSuppression = SOMsustainedSuppression , SOMsustainedNoiseSuppression = SOMsustainedNoiseSuppression , fitSOMsustainedSuppression = fitSOMsustainedSuppression , fitSOMsustainedSuppressionNoZero = fitSOMsustainedSuppressionNoZero , ExsustainedSuppression = ExsustainedSuppression , ExsustainedNoiseSuppression = ExsustainedNoiseSuppression , fitExsustainedSuppression = fitExsustainedSuppression , fitExsustainedSuppressionNoZero = fitExsustainedSuppressionNoZero , PVsustainedSuppressionPVal = PVsustainedSuppressionPVal , SOMsustainedSuppressionPVal = SOMsustainedSuppressionPVal , ExsustainedSuppressionPVal = ExsustainedSuppressionPVal , PVdiffSum = PVdiffSum , SOMdiffSum = SOMdiffSum , ExdiffSum = ExdiffSum , PVprefBW = PVprefBW , SOMprefBW = SOMprefBW , ExprefBW = ExprefBW ) print outputFile + <str>   