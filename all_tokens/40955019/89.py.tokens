import os import pandas as pd import numpy as np import scipy . stats from jaratoolbox import celldatabase from jaratoolbox import spikesanalysis from jaratoolbox import ephyscore from jaratoolbox import behavioranalysis from jaratoolbox import settings import figparams import studyparams dbFilename = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , <str> ) db = celldatabase . load_hdf ( dbFilename ) figName = <str> dataDir = os . path . join ( settings . FIGURES_DATA_PATH , <str> , figName ) bestCells = db . query ( studyparams . SINGLE_UNITS ) bestCells = bestCells . query ( studyparams . GOOD_CELLS ) sustPVCells = bestCells . query ( studyparams . PV_CELLS ) sustSOMCells = bestCells . query ( studyparams . SOM_CELLS ) sustExCells = bestCells . query ( studyparams . EXC_CELLS ) PVsustainedSuppression = sustPVCells [ <str> ] SOMsustainedSuppression = sustSOMCells [ <str> ] ExsustainedSuppression = sustExCells [ <str> ] fitPVsustainedSuppression = sustPVCells [ <str> ] fitSOMsustainedSuppression = sustSOMCells [ <str> ] fitExsustainedSuppression = sustExCells [ <str> ] ExbestFreq = sustExCells [ <str> ] PVbestFreq = sustPVCells [ <str> ] SOMbestFreq = sustSOMCells [ <str> ] ExR2 = sustExCells [ <str> ] PVR2 = sustPVCells [ <str> ] SOMR2 = sustSOMCells [ <str> ] outputFile = <str> outputFullPath = os . path . join ( dataDir , outputFile ) np . savez ( outputFullPath , rawPVsustainedSuppressionInd = PVsustainedSuppression , rawSOMsustainedSuppressionInd = SOMsustainedSuppression , rawExcSustainedSuppressionInd = ExsustainedSuppression , fitPVsustainedSuppressionInd = fitPVsustainedSuppression , fitSOMsustainedSuppressionInd = fitSOMsustainedSuppression , fitExcSustainedSuppressionInd = fitExsustainedSuppression , ExbestFreq = ExbestFreq , PVbestFreq = PVbestFreq , SOMbestFreq = SOMbestFreq , ExR2 = ExR2 , PVR2 = PVR2 , SOMR2 = SOMR2 ) print outputFile + <str>   