import numpy as np import copy from matplotlib import pyplot as plt from scipy import stats from jaratoolbox import loadbehavior from jaratoolbox import extraplots import muscimol_sessions subjects = [ <str> , <str> , <str> , <str> , <str> ] percCorrect = np . empty ( ( len ( subjects ) , 4 ) ) for indSubject , subject in enumerate ( subjects ) :      datesDict = muscimol_sessions . animals [ subject ] alldates = [ ] salinedates = datesDict [ <str> ] muscimoldates = datesDict [ <str> ] sessions = salinedates for indSession , session in enumerate ( sessions ) :          bfile = loadbehavior . path_to_behavior_data ( subject , <str> , session ) bdata = loadbehavior . BehaviorData ( bfile ) valid = bdata [ <str> ] correct = bdata [ <str> ] == bdata . labels [ <str> ] [ <str> ] validCorrect = ( valid & correct ) numValid = sum ( valid ) numCorrect = sum ( validCorrect ) percCorrect [ indSubject , indSession ] = ( numCorrect / float ( numValid ) ) * 100   firstSaline = percCorrect [ : , 0 ] lastSaline = percCorrect [ : , - 1 ] zVal , pVal = stats . ttest_rel ( firstSaline , lastSaline ) print <str> . format ( pVal ) plt . clf ( ) for indSubject , subject in enumerate ( subjects ) :      plt . hold ( 1 ) plt . plot ( percCorrect [ indSubject , : ] , <str> , color = <str> , mfc = <str> )  meanPercCorrect = np . mean ( percCorrect , axis = 0 ) plt . xlim ( [ - 0.5 , 3.5 ] ) plt . ylabel ( <str> ) plt . ylim ( [ 50 , 100 ] ) ax = plt . gca ( ) ax . set_xticks ( range ( 4 ) ) ax . set_xticklabels ( [ 1 , 2 , 3 , 4 ] ) ax . set_xlabel ( <str> ) slope , intercept , rVal , pVal , err = stats . linregress ( range ( len ( meanPercCorrect ) ) , meanPercCorrect ) xvals = np . array ( [ 0 , 1 , 2 , 3 ] ) yPred = xvals * slope + intercept plt . plot ( xvals , yPred , <str> , color = <str> , lw = 3 ) print <str> . format ( slope , intercept , rVal , pVal , err ) extraplots . boxoff ( ax ) plt . show ( )  