import os import numpy as np from jaratoolbox import celldatabase from jaratoolbox import settings import figparams import studyparams dbFilename = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , <str> ) db = celldatabase . load_hdf ( dbFilename ) figName = <str> dataDir = os . path . join ( <str> , figName ) PV_ARCHT_MICE = studyparams . PV_ARCHT_MICE SOM_ARCHT_MICE = studyparams . SOM_ARCHT_MICE singleUnits = db . query ( studyparams . SINGLE_UNITS_INACTIVATION ) bestCells = singleUnits . query ( <str> ) PVCells = bestCells . loc [ bestCells [ <str> ] . isin ( PV_ARCHT_MICE ) ] SOMCells = bestCells . loc [ bestCells [ <str> ] . isin ( SOM_ARCHT_MICE ) ] PVControl = PVCells . loc [ PVCells [ <str> ] == 1 ] PVLaser = PVCells . loc [ PVCells [ <str> ] == 0 ] SOMControl = SOMCells . loc [ SOMCells [ <str> ] == 1 ] SOMLaser = SOMCells . loc [ SOMCells [ <str> ] == 0 ] PVcontrolBaselineNoLaser = PVControl [ <str> ] PVcontrolBaselineLaser = PVControl [ <str> ] SOMcontrolBaselineNoLaser = SOMControl [ <str> ] SOMcontrolBaselineLaser = SOMControl [ <str> ] PVbaselineNoLaser = PVLaser [ <str> ] PVbaselineLaser = PVLaser [ <str> ] SOMbaselineNoLaser = SOMLaser [ <str> ] SOMbaselineLaser = SOMLaser [ <str> ] outputFile = <str> outputFullPath = os . path . join ( dataDir , outputFile ) np . savez ( outputFullPath , PVControlNoLaser = PVcontrolBaselineNoLaser , PVControlLaser = PVcontrolBaselineLaser , PVNoLaser = PVbaselineNoLaser , PVLaser = PVbaselineLaser , SOMControlNoLaser = SOMcontrolBaselineNoLaser , SOMControlLaser = SOMcontrolBaselineLaser , SOMNoLaser = SOMbaselineNoLaser , SOMLaser = SOMbaselineLaser ) print outputFile + <str>   