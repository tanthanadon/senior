import os import pandas as pd import numpy as np import scipy . stats from jaratoolbox import celldatabase from jaratoolbox import spikesanalysis from jaratoolbox import ephyscore from jaratoolbox import behavioranalysis from jaratoolbox import settings import figparams import studyparams dbFilename = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , <str> ) db = celldatabase . load_hdf ( dbFilename ) figName = <str> dataDir = os . path . join ( settings . FIGURES_DATA_PATH , figparams . STUDY_NAME , figName ) bestCells = db . query ( studyparams . SINGLE_UNITS_INACTIVATION ) bestCells = bestCells . query ( studyparams . GOOD_CELLS ) PVCells = bestCells . query ( studyparams . PV_INACTIVATED_CELLS ) SOMCells = bestCells . query ( studyparams . SOM_INACTIVATED_CELLS ) rawPVsustainedSuppressionNoLaser = PVCells [ <str> ] rawSOMsustainedSuppressionNoLaser = SOMCells [ <str> ] rawPVsustainedSuppressionLaser = PVCells [ <str> ] rawSOMsustainedSuppressionLaser = SOMCells [ <str> ] rawMeanPVsupNoLaser = np . mean ( rawPVsustainedSuppressionNoLaser ) rawSemPVsupNoLaser = scipy . stats . sem ( rawPVsustainedSuppressionNoLaser ) rawMeanSOMsupNoLaser = np . mean ( rawSOMsustainedSuppressionNoLaser ) rawSemSOMsupNoLaser = scipy . stats . sem ( rawSOMsustainedSuppressionNoLaser ) rawMeanPVsupLaser = np . mean ( rawPVsustainedSuppressionLaser ) rawSemPVsupLaser = scipy . stats . sem ( rawPVsustainedSuppressionLaser ) rawMeanSOMsupLaser = np . mean ( rawSOMsustainedSuppressionLaser ) rawSemSOMsupLaser = scipy . stats . sem ( rawSOMsustainedSuppressionLaser ) fitPVsustainedSuppressionNoLaser = PVCells [ <str> ] fitSOMsustainedSuppressionNoLaser = SOMCells [ <str> ] fitPVsustainedSuppressionLaser = PVCells [ <str> ] fitSOMsustainedSuppressionLaser = SOMCells [ <str> ] fitMeanPVsupNoLaser = np . mean ( fitPVsustainedSuppressionNoLaser ) fitSemPVsupNoLaser = scipy . stats . sem ( fitPVsustainedSuppressionNoLaser ) fitMeanSOMsupNoLaser = np . mean ( fitSOMsustainedSuppressionNoLaser ) fitSemSOMsupNoLaser = scipy . stats . sem ( fitSOMsustainedSuppressionNoLaser ) fitMeanPVsupLaser = np . mean ( fitPVsustainedSuppressionLaser ) fitSemPVsupLaser = scipy . stats . sem ( fitPVsustainedSuppressionLaser ) fitMeanSOMsupLaser = np . mean ( fitSOMsustainedSuppressionLaser ) fitSemSOMsupLaser = scipy . stats . sem ( fitSOMsustainedSuppressionLaser ) fitPVsustainedSuppressionNoZeroNoLaser = PVCells [ <str> ] fitSOMsustainedSuppressionNoZeroNoLaser = SOMCells [ <str> ] fitPVsustainedSuppressionNoZeroLaser = PVCells [ <str> ] fitSOMsustainedSuppressionNoZeroLaser = SOMCells [ <str> ] fitMeanPVsupNoZeroNoLaser = np . mean ( fitPVsustainedSuppressionNoZeroNoLaser ) fitSemPVsupNoZeroNoLaser = scipy . stats . sem ( fitPVsustainedSuppressionNoZeroNoLaser ) fitMeanSOMsupNoZeroNoLaser = np . mean ( fitSOMsustainedSuppressionNoZeroNoLaser ) fitSemSOMsupNoZeroNoLaser = scipy . stats . sem ( fitSOMsustainedSuppressionNoZeroNoLaser ) fitMeanPVsupNoZeroLaser = np . mean ( fitPVsustainedSuppressionNoZeroLaser ) fitSemPVsupNoZeroLaser = scipy . stats . sem ( fitPVsustainedSuppressionNoZeroLaser ) fitMeanSOMsupNoZeroLaser = np . mean ( fitSOMsustainedSuppressionNoZeroLaser ) fitSemSOMsupNoZeroLaser = scipy . stats . sem ( fitSOMsustainedSuppressionNoZeroLaser ) PVsustainedPrefBWNoLaser = PVCells [ <str> ] SOMsustainedPrefBWNoLaser = SOMCells [ <str> ] PVsustainedPrefBWLaser = PVCells [ <str> ] SOMsustainedPrefBWLaser = SOMCells [ <str> ] fitPVsustainedPrefBWNoLaser = PVCells [ <str> ] fitSOMsustainedPrefBWNoLaser = SOMCells [ <str> ] fitPVsustainedPrefBWLaser = PVCells [ <str> ] fitSOMsustainedPrefBWLaser = SOMCells [ <str> ] fitPVpeakFRNoLaser = PVCells [ <str> ] fitPVpeakFRLaser = PVCells [ <str> ] fitPVpeakChangeFR = PVCells [ <str> ] fitPVWNFRNoLaser = PVCells [ <str> ] fitPVWNFRLaser = PVCells [ <str> ] fitPVWNChangeFR = PVCells [ <str> ] fitSOMpeakFRNoLaser = SOMCells [ <str> ] fitSOMpeakFRLaser = SOMCells [ <str> ] fitSOMpeakChangeFR = SOMCells [ <str> ] fitSOMWNFRNoLaser = SOMCells [ <str> ] fitSOMWNFRLaser = SOMCells [ <str> ] fitSOMWNChangeFR = SOMCells [ <str> ] fitMeanPVpeakChange = np . mean ( fitPVpeakChangeFR ) fitSemPVpeakChange = scipy . stats . sem ( fitPVpeakChangeFR ) fitMeanPVWNChange = np . mean ( fitPVWNChangeFR ) fitSemPVWNChange = scipy . stats . sem ( fitPVWNChangeFR ) fitMeanSOMpeakChange = np . mean ( fitSOMpeakChangeFR ) fitSemSOMpeakChange = scipy . stats . sem ( fitSOMpeakChangeFR ) fitMeanSOMWNChange = np . mean ( fitSOMWNChangeFR ) fitSemSOMWNChange = scipy . stats . sem ( fitSOMWNChangeFR ) fitPVpeakChangeFRNoZero = PVCells [ <str> ] fitPVWNChangeFRNoZero = PVCells [ <str> ] fitSOMpeakChangeFRNoZero = SOMCells [ <str> ] fitSOMWNChangeFRNoZero = SOMCells [ <str> ] fitMeanPVpeakChangeNoZero = np . mean ( fitPVpeakChangeFRNoZero ) fitSemPVpeakChangeNoZero = scipy . stats . sem ( fitPVpeakChangeFRNoZero ) fitMeanPVWNChangeNoZero = np . mean ( fitPVWNChangeFRNoZero ) fitSemPVWNChangeNoZero = scipy . stats . sem ( fitPVWNChangeFRNoZero ) fitMeanSOMpeakChangeNoZero = np . mean ( fitSOMpeakChangeFRNoZero ) fitSemSOMpeakChangeNoZero = scipy . stats . sem ( fitSOMpeakChangeFRNoZero ) fitMeanSOMWNChangeNoZero = np . mean ( fitSOMWNChangeFRNoZero ) fitSemSOMWNChangeNoZero = scipy . stats . sem ( fitSOMWNChangeFRNoZero ) rawPVpeakChangeFR = PVCells [ <str> ] rawPVWNChangeFR = PVCells [ <str> ] rawSOMpeakChangeFR = SOMCells [ <str> ] rawSOMWNChangeFR = SOMCells [ <str> ] rawMeanPVpeakChange = np . mean ( rawPVpeakChangeFR ) rawSemPVpeakChange = scipy . stats . sem ( rawPVpeakChangeFR ) rawMeanPVWNChange = np . mean ( rawPVWNChangeFR ) rawSemPVWNChange = scipy . stats . sem ( rawPVWNChangeFR ) rawMeanSOMpeakChange = np . mean ( rawSOMpeakChangeFR ) rawSemSOMpeakChange = scipy . stats . sem ( rawSOMpeakChangeFR ) rawMeanSOMWNChange = np . mean ( rawSOMWNChangeFR ) rawSemSOMWNChange = scipy . stats . sem ( rawSOMWNChangeFR ) outputFile = <str> outputFullPath = os . path . join ( dataDir , outputFile ) np . savez ( outputFullPath , rawPVsustainedSuppressionNoLaser = rawPVsustainedSuppressionNoLaser , rawSOMsustainedSuppressionNoLaser = rawSOMsustainedSuppressionNoLaser , rawPVsustainedSuppressionLaser = rawPVsustainedSuppressionLaser , rawSOMsustainedSuppressionLaser = rawSOMsustainedSuppressionLaser , rawMeanPVsupLaser = rawMeanPVsupLaser , rawSemPVsupLaser = rawSemPVsupLaser , rawMeanPVsupNoLaser = rawMeanPVsupNoLaser , rawSemPVsupNoLaser = rawSemPVsupNoLaser , rawMeanSOMsupLaser = rawMeanSOMsupLaser , rawSemSOMsupLaser = rawSemSOMsupLaser , rawMeanSOMsupNoLaser = rawMeanSOMsupNoLaser , rawSemSOMsupNoLaser = rawSemSOMsupNoLaser , fitPVsustainedSuppressionNoLaser = fitPVsustainedSuppressionNoLaser , fitSOMsustainedSuppressionNoLaser = fitSOMsustainedSuppressionNoLaser , fitPVsustainedSuppressionLaser = fitPVsustainedSuppressionLaser , fitSOMsustainedSuppressionLaser = fitSOMsustainedSuppressionLaser , fitMeanPVsupLaser = fitMeanPVsupLaser , fitSemPVsupLaser = fitSemPVsupLaser , fitMeanPVsupNoLaser = fitMeanPVsupNoLaser , fitSemPVsupNoLaser = fitSemPVsupNoLaser , fitMeanSOMsupLaser = fitMeanSOMsupLaser , fitSemSOMsupLaser = fitSemSOMsupLaser , fitMeanSOMsupNoLaser = fitMeanSOMsupNoLaser , fitSemSOMsupNoLaser = fitSemSOMsupNoLaser , fitPVsustainedSuppressionNoZeroNoLaser = fitPVsustainedSuppressionNoZeroNoLaser , fitSOMsustainedSuppressionNoZeroNoLaser = fitSOMsustainedSuppressionNoZeroNoLaser , fitPVsustainedSuppressionNoZeroLaser = fitPVsustainedSuppressionNoZeroLaser , fitSOMsustainedSuppressionNoZeroLaser = fitSOMsustainedSuppressionNoZeroLaser , fitMeanPVsupNoZeroLaser = fitMeanPVsupNoZeroLaser , fitSemPVsupNoZeroLaser = fitSemPVsupNoZeroLaser , fitMeanPVsupNoZeroNoLaser = fitMeanPVsupNoZeroNoLaser , fitSemPVsupNoZeroNoLaser = fitSemPVsupNoZeroNoLaser , fitMeanSOMsupNoZeroLaser = fitMeanSOMsupNoZeroLaser , fitSemSOMsupNoZeroLaser = fitSemSOMsupNoZeroLaser , fitMeanSOMsupNoZeroNoLaser = fitMeanSOMsupNoZeroNoLaser , fitSemSOMsupNoZeroNoLaser = fitSemSOMsupNoZeroNoLaser , rawPVsustainedPrefBWNoLaser = PVsustainedPrefBWNoLaser , rawSOMsustainedPrefBWNoLaser = SOMsustainedPrefBWNoLaser , rawPVsustainedPrefBWLaser = PVsustainedPrefBWLaser , rawSOMsustainedPrefBWLaser = SOMsustainedPrefBWLaser , fitPVsustainedPrefBWNoLaser = fitPVsustainedPrefBWNoLaser , fitSOMsustainedPrefBWNoLaser = fitSOMsustainedPrefBWNoLaser , fitPVsustainedPrefBWLaser = fitPVsustainedPrefBWLaser , fitSOMsustainedPrefBWLaser = fitSOMsustainedPrefBWLaser , fitPVpeakFRNoLaser = fitPVpeakFRNoLaser , fitPVpeakFRLaser = fitPVpeakFRLaser , fitPVpeakChangeFR = fitPVpeakChangeFR , fitPVWNFRNoLaser = fitPVWNFRNoLaser , fitPVWNFRLaser = fitPVWNFRLaser , fitPVWNChangeFR = fitPVWNChangeFR , fitSOMpeakFRNoLaser = fitSOMpeakFRNoLaser , fitSOMpeakFRLaser = fitSOMpeakFRLaser , fitSOMpeakChangeFR = fitSOMpeakChangeFR , fitSOMWNFRNoLaser = fitSOMWNFRNoLaser , fitSOMWNFRLaser = fitSOMWNFRLaser , fitSOMWNChangeFR = fitSOMWNChangeFR , fitMeanPVpeakChange = fitMeanPVpeakChange , fitSemPVpeakChange = fitSemPVpeakChange , fitMeanPVWNChange = fitMeanPVWNChange , fitSemPVWNChange = fitSemPVWNChange , fitMeanSOMpeakChange = fitMeanSOMpeakChange , fitSemSOMpeakChange = fitSemSOMpeakChange , fitMeanSOMWNChange = fitMeanSOMWNChange , fitSemSOMWNChange = fitSemSOMWNChange , fitPVpeakChangeFRNoZero = fitPVpeakChangeFRNoZero , fitPVWNChangeFRNoZero = fitPVWNChangeFRNoZero , fitSOMpeakChangeFRNoZero = fitSOMpeakChangeFRNoZero , fitSOMWNChangeFRNoZero = fitSOMWNChangeFRNoZero , fitMeanPVpeakChangeNoZero = fitMeanPVpeakChangeNoZero , fitSemPVpeakChangeNoZero = fitSemPVpeakChangeNoZero , fitMeanPVWNChangeNoZero = fitMeanPVWNChangeNoZero , fitSemPVWNChangeNoZero = fitSemPVWNChangeNoZero , fitMeanSOMpeakChangeNoZero = fitMeanSOMpeakChangeNoZero , fitSemSOMpeakChangeNoZero = fitSemSOMpeakChangeNoZero , fitMeanSOMWNChangeNoZero = fitMeanSOMWNChangeNoZero , fitSemSOMWNChangeNoZero = fitSemSOMWNChangeNoZero , rawPVpeakChangeFR = rawPVpeakChangeFR , rawPVWNChangeFR = rawPVWNChangeFR , rawSOMpeakChangeFR = rawSOMpeakChangeFR , rawSOMWNChangeFR = rawSOMWNChangeFR , rawMeanPVpeakChange = rawMeanPVpeakChange , rawSemPVpeakChange = rawSemPVpeakChange , rawMeanPVWNChange = rawMeanPVWNChange , rawSemPVWNChange = rawSemPVWNChange , rawMeanSOMpeakChange = rawMeanSOMpeakChange , rawSemSOMpeakChange = rawSemSOMpeakChange , rawMeanSOMWNChange = rawMeanSOMWNChange , rawSemSOMWNChange = rawSemSOMWNChange , ) print outputFile + <str>   