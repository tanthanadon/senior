from PyQt5 import QtWidgets from market . api . api import STATUS class InvestorsPortfolioController :      def __init__ ( self , mainwindow ) :          self . mainwindow = mainwindow self . table = self . mainwindow . ip_investments_table self . mainwindow . ip_search_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_min_amount_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_max_amount_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_interest1_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_interest2_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_duration1_lineedit . textChanged . connect ( self . set_filters ) self . mainwindow . ip_duration2_lineedit . textChanged . connect ( self . set_filters )  def setup_view ( self ) :          self . table . setRowCount ( 0 ) investments = self . mainwindow . api . load_investments ( self . mainwindow . app . user ) if investments :              self . fill_table ( investments )   def fill_table ( self , investments ) :          for investment , house , campaign , profile in investments :              address = house . address + <str> + house . house_number + <str> + house . postal_code name = <str> iban = <str> if campaign . completed :                  campaign_status = <str>  else :                  campaign_status = <str>  if investment . status == STATUS . ACCEPTED :                  investment_status = <str> name = profile . first_name + <str> + profile . last_name iban = profile . iban  else :                  investment_status = <str>  row_count = self . table . rowCount ( ) self . table . insertRow ( row_count ) self . table . setItem ( row_count , 0 , QtWidgets . QTableWidgetItem ( address ) ) self . table . setItem ( row_count , 1 , QtWidgets . QTableWidgetItem ( campaign_status ) ) self . table . setItem ( row_count , 2 , QtWidgets . QTableWidgetItem ( investment_status ) ) self . table . setItem ( row_count , 3 , QtWidgets . QTableWidgetItem ( str ( investment . amount ) ) ) self . table . setItem ( row_count , 4 , QtWidgets . QTableWidgetItem ( str ( investment . interest_rate ) ) ) self . table . setItem ( row_count , 5 , QtWidgets . QTableWidgetItem ( str ( investment . duration ) ) ) self . table . setItem ( row_count , 6 , QtWidgets . QTableWidgetItem ( name ) ) self . table . setItem ( row_count , 7 , QtWidgets . QTableWidgetItem ( iban ) )   def set_filters ( self ) :          self . mainwindow . filter_table ( self . table , self . mainwindow . ip_search_lineedit . text ( ) , 3 , self . mainwindow . ip_min_amount_lineedit . text ( ) , self . mainwindow . ip_max_amount_lineedit . text ( ) , 4 , self . mainwindow . ip_interest1_lineedit . text ( ) , self . mainwindow . ip_interest2_lineedit . text ( ) , 5 , self . mainwindow . ip_duration1_lineedit . text ( ) , self . mainwindow . ip_duration2_lineedit . text ( ) )    