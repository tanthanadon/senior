import matplotlib . pyplot as plt import numpy as np import scipy . misc from odl . contrib import fom true_image = scipy . misc . ascent ( ) . astype ( <str> ) corrupt1 = true_image . copy ( ) corrupt1 [ 100 : 110 , 50 : 350 ] = 0 corrupt1 [ 200 : 204 , 60 : 64 ] = 180 corrupt1 [ 350 : 400 , 200 : 250 ] = 200 np . random . seed ( 123 ) corrupt2 = true_image + np . random . uniform ( 0 , 40 , true_image . shape ) corrupt2 = corrupt2 . astype ( <str> ) fig , ax = plt . subplots ( ncols = 3 ) ax [ 0 ] . imshow ( true_image , cmap = <str> ) ax [ 0 ] . set_title ( <str> ) ax [ 1 ] . imshow ( corrupt1 , cmap = <str> ) ax [ 1 ] . set_title ( <str> ) ax [ 2 ] . imshow ( corrupt2 , cmap = <str> ) ax [ 2 ] . set_title ( <str> ) fig . suptitle ( <str> ) fig . tight_layout ( ) fig . show ( ) a = 4.2 c = 100 sim1_ax0 = fom . util . haarpsi_similarity_map ( corrupt1 , true_image , axis = 0 , a = a , c = c ) sim1_ax1 = fom . util . haarpsi_similarity_map ( corrupt1 , true_image , axis = 1 , a = a , c = c ) sim2_ax0 = fom . util . haarpsi_similarity_map ( corrupt2 , true_image , axis = 0 , a = a , c = c ) sim2_ax1 = fom . util . haarpsi_similarity_map ( corrupt2 , true_image , axis = 1 , a = a , c = c ) fig , ax = plt . subplots ( ncols = 2 ) ax [ 0 ] . imshow ( sim1_ax0 ) ax [ 0 ] . set_title ( <str> ) ax [ 1 ] . imshow ( sim1_ax1 ) ax [ 1 ] . set_title ( <str> ) fig . suptitle ( <str> ) fig . tight_layout ( ) fig . show ( ) fig , ax = plt . subplots ( ncols = 2 ) ax [ 0 ] . imshow ( sim2_ax0 ) ax [ 0 ] . set_title ( <str> ) ax [ 1 ] . imshow ( sim2_ax1 ) ax [ 1 ] . set_title ( <str> ) fig . suptitle ( <str> ) fig . tight_layout ( ) fig . show ( ) wmap1_ax0 = fom . util . haarpsi_weight_map ( corrupt1 , true_image , axis = 0 ) wmap1_ax1 = fom . util . haarpsi_weight_map ( corrupt1 , true_image , axis = 1 ) wmap2_ax0 = fom . util . haarpsi_weight_map ( corrupt2 , true_image , axis = 0 ) wmap2_ax1 = fom . util . haarpsi_weight_map ( corrupt2 , true_image , axis = 1 ) fig , ax = plt . subplots ( ncols = 2 ) ax [ 0 ] . imshow ( wmap1_ax0 ) ax [ 0 ] . set_title ( <str> ) ax [ 1 ] . imshow ( wmap1_ax1 ) ax [ 1 ] . set_title ( <str> ) fig . suptitle ( <str> ) fig . tight_layout ( ) fig . show ( ) fig , ax = plt . subplots ( ncols = 2 ) ax [ 0 ] . imshow ( wmap2_ax0 ) ax [ 0 ] . set_title ( <str> ) ax [ 1 ] . imshow ( wmap2_ax1 ) ax [ 1 ] . set_title ( <str> ) fig . suptitle ( <str> ) fig . tight_layout ( ) fig . show ( ) score1 = fom . haarpsi ( corrupt1 , true_image , a , c ) score2 = fom . haarpsi ( corrupt2 , true_image , a , c ) print ( <str> <str> . format ( a , c , score1 ) ) print ( <str> <str> . format ( a , c , score2 ) )  